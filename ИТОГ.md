# Исправление уязвимости с .git файлами

## Что было сделано

1. ✅ Создан файл `.gitignore` для игнорирования временных и сгенерированных файлов
2. ✅ Обновлен `deploy.sh` с правильными исключениями Git-файлов
3. ✅ Создан скрипт `cleanup-bucket.sh` для удаления существующих .git файлов
4. ✅ Создан скрипт `verify-bucket.sh` для проверки наличия .git файлов

## Как использовать

### Очистка бакета от .git файлов (выполнить один раз)

```bash
# Сначала убедитесь, что в cleanup-bucket.sh указаны правильные значения:
# BUCKET_NAME="test-ptp"  
# S3_ENDPOINT="https://s3.regru.cloud"

# Затем запустите скрипт:
./cleanup-bucket.sh
```

### Проверка бакета (можно запускать в любое время)

```bash
# Сначала убедитесь, что в verify-bucket.sh указаны правильные значения 
# BUCKET_NAME и S3_ENDPOINT

# Затем запустите скрипт:
./verify-bucket.sh
```

### Деплой с исключениями

Обновленный скрипт `deploy.sh` теперь автоматически исключает все .git файлы при загрузке в S3.

## Рекомендации

1. Выполните `cleanup-bucket.sh` сразу для очистки текущих .git файлов
2. Проверьте результат с помощью `verify-bucket.sh`
3. Используйте обновленный `deploy.sh` для всех будущих деплоев
4. Периодически запускайте `verify-bucket.sh` для проверки безопасности

## Результат

После этих изменений ваш Git-репозиторий будет нормально работать локально, но при этом .git-файлы никогда не будут выгружаться в публичный бакет, что закроет эту уязвимость.